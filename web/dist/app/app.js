webpackJsonp([1],{0:function(e,t,n){e.exports=n(298)},6:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(12),s=!0,i=window.__karma__;i&&1===i.config.args.length&&(s=!1);var a=new r.Reactor({debug:s});window.reactor=a,t["default"]=a,e.exports=t["default"]}).call(this)}finally{}},8:function(e,t,n){try{(function(){"use strict";function r(){var e="https:"==location.protocol?"wss://":"ws://",t=location.hostname+(location.port?":"+location.port:"");return""+e+t}t.__esModule=!0;var s=n(280),i=s.formatPattern,a={baseUrl:window.location.origin,helpUrl:"https://github.com/gravitational/teleport/blob/master/README.md",maxSessionLoadSize:50,api:{renewTokenPath:"/v1/webapi/sessions/renew",nodesPath:"/v1/webapi/sites/-current-/nodes",sessionPath:"/v1/webapi/sessions",siteSessionPath:"/v1/webapi/sites/-current-/sessions/:sid",invitePath:"/v1/webapi/users/invites/:inviteToken",createUserPath:"/v1/webapi/users",sessionChunk:"/v1/webapi/sites/-current-/sessions/:sid/chunks?start=:start&end=:end",sessionChunkCountPath:"/v1/webapi/sites/-current-/sessions/:sid/chunkscount",getFetchSessionChunkUrl:function(e){var t=e.sid,n=e.start,r=e.end;return i(a.api.sessionChunk,{sid:t,start:n,end:r})},getFetchSessionLengthUrl:function(e){return i(a.api.sessionChunkCountPath,{sid:e})},getFetchSessionsUrl:function(e){var t=JSON.stringify(e),n=window.encodeURI(t);return"/v1/webapi/sites/-current-/events/sessions?filter="+n},getFetchSessionUrl:function(e){return i(a.api.siteSessionPath,{sid:e})},getTerminalSessionUrl:function(e){return i(a.api.siteSessionPath,{sid:e})},getInviteUrl:function(e){return i(a.api.invitePath,{inviteToken:e})},getEventStreamConnStr:function(e,t){var n=r();return n+"/v1/webapi/sites/-current-/sessions/"+t+"/events/stream?access_token="+e},getTtyConnStr:function(e){var t=e.token,n=e.serverId,s=e.login,i=e.sid,a=e.rows,o=e.cols,l={server_id:n,login:s,sid:i,term:{h:a,w:o}},c=JSON.stringify(l),u=window.encodeURI(c),f=r();return f+"/v1/webapi/sites/-current-/connect?access_token="+t+"&params="+u}},routes:{app:"/web",logout:"/web/logout",login:"/web/login",nodes:"/web/nodes",activeSession:"/web/sessions/:sid",newUser:"/web/newuser/:inviteToken",sessions:"/web/sessions",pageNotFound:"/web/notfound"},getActiveSessionRouteUrl:function(e){return i(a.routes.activeSession,{sid:e})}};t["default"]=a,e.exports=t["default"]}).call(this)}finally{}},14:function(e,t){"use strict";var n=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=n},24:function(e,t){e.exports=jQuery},25:function(e,t,n){try{(function(){"use strict";var t=n(37),r=t.browserHistory,s=t.createMemoryHistory,i="authData",a=s(),o={init:function(){var e=arguments.length<=0||void 0===arguments[0]?r:arguments[0];a=e},getHistory:function(){return a},setUserData:function(e){localStorage.setItem(i,JSON.stringify(e))},getUserData:function(){var e=localStorage.getItem(i);return e?JSON.parse(e):{}},clear:function(){localStorage.clear()}};e.exports=o}).call(this)}finally{}},30:function(e,t,n){try{(function(){"use strict";var t=n(24),r=n(25),s={put:function(e,t,n){return s.ajax({url:e,data:JSON.stringify(t),type:"PUT"},n)},post:function(e,t,n){return s.ajax({url:e,data:JSON.stringify(t),type:"POST"},n)},get:function(e){return s.ajax({url:e})},ajax:function(e){var n=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],s={type:"GET",dataType:"json",beforeSend:function(e){if(n){var t=r.getUserData(),s=t.token;e.setRequestHeader("Authorization","Bearer "+s)}}};return t.ajax(t.extend({},s,e))}};e.exports=s}).call(this)}finally{}},42:function(e,t,n){try{(function(){"use strict";function e(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),i=function(t){var n=t.rowIndex,r=t.data,i=t.columnKey,a=e(t,["rowIndex","data","columnKey"]);return s.createElement(c,a,r[n][i])},a={ASC:"ASC",DESC:"DESC"},o=function(e){var t=e.sortDir,n="grv-table-indicator-sort fa fa-sort";return t===a.DESC&&(n+="-desc"),t===a.ASC&&(n+="-asc"),s.createElement("i",{className:n})},l=s.createClass({displayName:"SortHeaderCell",render:function(){var t=this.props,n=t.sortDir,r=t.title,i=e(t,["sortDir","title"]);return s.createElement(c,i,s.createElement("a",{onClick:this.onSortChange},r),s.createElement(o,{sortDir:n}))},onSortChange:function(e){if(e.preventDefault(),this.props.onSortChange){var t=a.DESC;this.props.sortDir&&(t=this.props.sortDir===a.DESC?a.ASC:a.DESC),this.props.onSortChange(this.props.columnKey,t)}}}),c=s.createClass({displayName:"GrvTableCell",render:function(){var e=this.props;return e.isHeader?s.createElement("th",{key:e.key,className:"grv-table-cell"},e.children):s.createElement("td",{key:e.key},e.children)}}),u=s.createClass({displayName:"GrvTable",renderHeader:function(e){var t=this,n=e.map(function(e,n){return t.renderCell(e.props.header,r({index:n,key:n,isHeader:!0},e.props))});return s.createElement("thead",{className:"grv-table-header"},s.createElement("tr",null,n))},renderBody:function(e){for(var t=this,n=this.props.rowCount,i=[],a=0;n>a;a++){var o=e.map(function(e,n){return t.renderCell(e.props.cell,r({rowIndex:a,key:n,isHeader:!1},e.props))});i.push(s.createElement("tr",{key:a},o))}return s.createElement("tbody",null,i)},renderCell:function(e,t){var n=null;return s.isValidElement(e)?n=s.cloneElement(e,t):"function"==typeof e&&(n=e(t)),n},render:function(){var e=[];s.Children.forEach(this.props.children,function(t){if(null!=t){if("GrvTableColumn"!==t.type.displayName)throw"Should be GrvTableColumn";e.push(t)}});var t="table "+this.props.className;return s.createElement("table",{className:t},this.renderHeader(e),this.renderBody(e))}}),f=s.createClass({displayName:"GrvTableColumn",render:function(){throw new Error("Component <GrvTableColumn /> should never render")}});t["default"]=u,t.Column=f,t.Table=u,t.Cell=c,t.TextCell=i,t.SortHeaderCell=l,t.SortIndicator=o,t.SortTypes=a}).call(this)}finally{}},43:function(e,t,n){try{(function(){"use strict";function n(e){var t=[],n=e.get("labels");return n&&n.entrySeq().toArray().forEach(function(e){t.push({role:e[0],value:e[1]})}),n=e.get("cmd_labels"),n&&n.entrySeq().toArray().forEach(function(e){t.push({role:e[0],value:e[1].get("result"),tooltip:e[1].get("command")})}),t}t.__esModule=!0;var r=function(e){return[["tlpt_nodes"],function(t){var n=t.find(function(t){return t.get("id")===e});return n?n.get("hostname"):""}]},s=[["tlpt_nodes"],function(e){return e.map(function(e){var t=e.get("id");return{id:t,hostname:e.get("hostname"),tags:n(e),addr:e.get("addr")}}).toJS()}];t["default"]={nodeListView:s,nodeHostNameByServerId:r},e.exports=t["default"]}).call(this)}finally{}},44:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TRYING_TO_SIGN_UP:null,TRYING_TO_LOGIN:null,FETCHING_INVITE:null}),e.exports=t["default"]}).call(this)}finally{}},45:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(30),i=n(8),a=n(115),o=a.showError,l=n(59).create("Modules/Sessions"),c=n(119),u=c.TLPT_SESSINS_RECEIVE,f=c.TLPT_SESSINS_UPDATE,d={fetchSession:function(e){return s.get(i.api.getFetchSessionUrl(e)).then(function(e){e&&e.session&&r.dispatch(f,e.session)})},fetchSessions:function(e){var t=e.before,n=e.sid,a=e.limit,c=void 0===a?2:a,f=t||new Date,d={order:-1,limit:c};return d.start=f.toISOString(),n&&(d.sessionID=n,d.sessionId=n,d.sid=n),s.get(i.api.getFetchSessionsUrl(d)).done(function(e){r.dispatch(u,e.sessions)}).fail(function(e){o("Unable to retrieve list of sessions"),l.error("fetchSessions",e)})},updateSession:function(e){r.dispatch(f,e)}};t["default"]=d,e.exports=t["default"]}).call(this)}finally{}},57:function(e,t){e.exports=_},58:function(e,t,n){try{(function(){"use strict";var t=n(1);e.exports.weekRange=function(){var e=arguments.length<=0||void 0===arguments[0]?new Date:arguments[0],n=t(e).startOf("week").toDate(),r=t(e).endOf("week").toDate();return[n,r]}}).call(this)}finally{}},59:function(e,t,n){try{(function(){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=Function.prototype.bind,s=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"default":arguments[0];n(this,e),this.name=t}return e.prototype.log=function(){for(var e=arguments.length<=0||void 0===arguments[0]?"log":arguments[0],t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];console[e].apply(console,["%c["+this.name+"]","color: blue;"].concat(n))},e.prototype.trace=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.log.apply(this,["trace"].concat(t))},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.log.apply(this,["warn"].concat(t))},e.prototype.info=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.log.apply(this,["info"].concat(t))},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.log.apply(this,["error"].concat(t))},e}();t["default"]={create:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return new(r.apply(s,[null].concat(t)))}},e.exports=t["default"]}).call(this)}finally{}},60:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(63),s=r.createView,i=[["tlpt_current_session"],["tlpt_sessions"],function(e,t){if(!e)return null;var n={isNewSession:e.get("isNewSession"),notFound:e.get("notFound"),addr:e.get("addr"),serverId:e.get("serverId"),serverIp:void 0,login:e.get("login"),sid:e.get("sid"),cols:void 0,rows:void 0};if(t.has(n.sid)){var r=s(t.get(n.sid));n.parties=r.parties,n.serverIp=r.serverIp,n.serverId=r.serverId,n.active=r.active,n.cols=r.cols,n.rows=r.rows}return n}];t["default"]={activeSession:i},e.exports=t["default"]}).call(this)}finally{}},61:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(60),e.exports.actions=n(105),e.exports.activeTermStore=n(106)}).call(this)}finally{}},62:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(109),i=s.TLPT_DIALOG_SELECT_NODE_SHOW,a=s.TLPT_DIALOG_SELECT_NODE_CLOSE,o={showSelectNodeDialog:function(){r.dispatch(i)},closeSelectNodeDialog:function(){r.dispatch(a)}};t["default"]=o,e.exports=t["default"]}).call(this)}finally{}},63:function(e,t,n){try{(function(){"use strict";function r(e){return e.sortBy(function(e){return new Date(e.get("lastActive"))}).last()}function s(e){var t,n,r=e.get("id"),s=o.evaluate(d(r));return s.length>0&&(t=s[0].serverIp,n=s[0].serverId),{sid:r,sessionUrl:l.getActiveSessionRouteUrl(r),serverIp:t,serverId:n,active:e.get("active"),created:e.get("created"),lastActive:e.get("last_active"),login:e.get("login"),parties:s,cols:e.getIn(["terminal_params","w"]),rows:e.getIn(["terminal_params","h"])}}t.__esModule=!0;var i=n(12),a=i.toImmutable,o=n(6),l=n(8),c=function(e){return[["tlpt_sessions"],function(t){return t.valueSeq().filter(function(t){var n=t.get("parties")||a([]),r=n.find(function(t){return t.get("server_id")===e});return r}).toList()}]},u=[["tlpt_sessions"],function(e){return e.valueSeq().map(s).toJS()}],f=function(e){return[["tlpt_sessions",e],function(e){return e?s(e):null}]},d=function(e){return[["tlpt_sessions",e,"parties"],function(e){if(!e)return[];var t=r(e).get("user");return e.map(function(e){var n=e.get("user");return{user:e.get("user"),serverIp:e.get("remote_addr"),serverId:e.get("server_id"),isActive:t===n}}).toJS()}]};t["default"]={partiesBySessionId:d,sessionsByServer:c,sessionsView:u,sessionViewById:f,createView:s},e.exports=t["default"]}).call(this)}finally{}},64:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var n=[["tlpt_stored_sessions_filter"],function(e){return e.toJS()}];t["default"]={filter:n},e.exports=t["default"]}).call(this)}finally{}},65:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(44),s=r.TRYING_TO_LOGIN,i=n(118),a=i.requestStatus,o=[["tlpt_user"],function(e){if(!e)return null;var t=e.get("name")||"",n=t[0]||"";return{name:t,shortDisplayName:n,logins:e.get("allowed_logins").toJS()}}];t["default"]={user:o,loginAttemp:a(s)},e.exports=t["default"]}).call(this)}finally{}},94:function(e,t,n){try{(function(){"use strict";var t=n(30),r=n(25),s=n(8),i=n(24),a=3e5,o=null,l={signUp:function(e,n,i,a){var o={user:e,pass:n,second_factor_token:i,invite_token:a};return t.post(s.api.createUserPath,o).then(function(e){return r.setUserData(e),l._startTokenRefresher(),e})},login:function(e,t,n){return l._stopTokenRefresher(),l._login(e,t,n).done(l._startTokenRefresher)},ensureUser:function(){var e=r.getUserData();return e.token?null===l._getRefreshTokenTimerId()?l._refreshToken().done(l._startTokenRefresher):i.Deferred().resolve(e):i.Deferred().reject()},logout:function(){l._stopTokenRefresher(),r.clear(),l._redirect()},_redirect:function(){window.location=s.routes.login},_startTokenRefresher:function(){o=setInterval(l._refreshToken,a)},_stopTokenRefresher:function(){clearInterval(o),o=null},_getRefreshTokenTimerId:function(){return o},_refreshToken:function(){return t.post(s.api.renewTokenPath).then(function(e){return r.setUserData(e),e}).fail(function(){l.logout()})},_login:function(e,n,i){var a={user:e,pass:n,second_factor_token:i};return t.post(s.api.sessionPath,a,!1).then(function(e){return r.setUserData(e),e})}};e.exports=l}).call(this)}finally{}},95:function(e,t,n){try{(function(){"use strict";e.exports.isMatch=function(e,t,n){var r=n.searchableProps,s=n.cb;t=t.toLocaleUpperCase();for(var i=r||Object.getOwnPropertyNames(e),a=0;a<i.length;a++){var o=e[i[a]];if(o){if("function"==typeof s){var l=s(o,t,i[a]);if(l===!0)return l}if(-1!==o.toString().toLocaleUpperCase().indexOf(t))return!0}}return!1}}).call(this)}finally{}},96:function(e,t,n){try{(function(){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(317).EventEmitter,a=n(25),o=n(8),l=n(61),c=l.actions,u=function(e){function n(r){var s=r.serverId,i=r.login,a=r.sid,o=r.rows,l=r.cols;t(this,n),e.call(this),this.options={serverId:s,login:i,sid:a,rows:o,cols:l},this.socket=null}return r(n,e),n.prototype.disconnect=function(){this.socket.close()},n.prototype.reconnect=function(e){this.disconnect(),this.socket.onopen=null,this.socket.onmessage=null,this.socket.onclose=null,this.connect(e)},n.prototype.connect=function(e){var t=this;Object.assign(this.options,e);var n=a.getUserData(),r=n.token,i=o.api.getTtyConnStr(s({token:r},this.options));this.socket=new WebSocket(i,"proto"),this.socket.onopen=function(){t.emit("open")},this.socket.onmessage=function(e){t.emit("data",e.data)},this.socket.onclose=function(){t.emit("close")}},n.prototype.resize=function(e,t){c.resize(e,t)},n.prototype.send=function(e){this.socket.send(e)},n}(i);e.exports=u}).call(this)}finally{}},97:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(61),s=r.actions,i=["#1ab394","#1c84c6","#23c6c8","#f8ac59","#ED5565","#c2c2c2"],a=function(e){var n=e.name,r=e.colorIndex,s=void 0===r?0:r,a=i[s%i.length],o={backgroundColor:a,borderColor:a};return t.createElement("li",{title:n},t.createElement("span",{style:o,className:"btn btn-primary btn-circle text-uppercase"},t.createElement("strong",null,n[0])))},o=function(e){var n=e.parties;n=n||[];var r=n.map(function(e,n){return t.createElement(a,{key:n,colorIndex:n,name:e.user})});return t.createElement("div",{className:"grv-terminal-participans"},t.createElement("ul",{className:"nav"},r,t.createElement("li",null,t.createElement("button",{onClick:s.close,className:"btn btn-danger btn-circle",type:"button"},t.createElement("i",{className:"fa fa-times"})))))};e.exports=o}).call(this)}finally{}},98:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var e=n(2),r=e.createClass({displayName:"NotFound",render:function(){return e.createElement("div",{className:"grv-error-page"},e.createElement("div",{className:"grv-logo-tprt"},"Teleport"),e.createElement("div",{className:"grv-warning"},e.createElement("i",{className:"fa fa-warning"})," "),e.createElement("h1",null,"Whoops, we cannot find that"),e.createElement("div",null,"Looks like the page you are looking for isn't here any longer"),e.createElement("div",null,"If you believe this is an error, please contact your organization administrator."),e.createElement("div",{className:"contact-section"},"If you believe this is an issue with Teleport, please ",e.createElement("a",{href:"https://github.com/gravitational/teleport/issues/new"},"create a GitHub issue.")))}}),s=e.createClass({displayName:"ExpiredInvite",render:function(){return e.createElement("div",{className:"grv-error-page"},e.createElement("div",{className:"grv-logo-tprt"},"Teleport"),e.createElement("div",{className:"grv-warning"},e.createElement("i",{className:"fa fa-warning"})," "),e.createElement("h1",null,"Invite code has expired"),e.createElement("div",null,"Looks like your invite code isn't valid anymore"),e.createElement("div",{className:"contact-section"},"If you believe this is an issue with Teleport, please ",e.createElement("a",{href:"https://github.com/gravitational/teleport/issues/new"},"create a GitHub issue.")))}});t["default"]=r,t.NotFound=r,t.ExpiredInvite=s}).call(this)}finally{}},99:function(e,t,n){try{(function(){"use strict";var t=n(2),r=t.createClass({displayName:"GoogleAuthInfo",render:function(){return t.createElement("div",{className:"grv-google-auth"},t.createElement("div",{className:"grv-google-auth-icon"}),t.createElement("strong",null,"Google Authenticator"),t.createElement("div",null,"Download ",t.createElement("a",{href:"https://support.google.com/accounts/answer/1066447?hl=en"},"Google Authenticator")," on your phone to access your two factory token"))}});e.exports=r}).call(this)}finally{}},100:function(e,t,n){try{(function(){"use strict";function t(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(2),i=n(42),a=i.Table,o=i.Column,l=i.Cell,c=i.SortHeaderCell,u=i.SortTypes,f=n(105),d=f.createNewSession,h=n(36),p=n(57),m=n(95),v=m.isMatch,g=function(e){var n=e.rowIndex,r=e.data,i=e.columnKey,a=t(e,["rowIndex","data","columnKey"]);return s.createElement(l,a,r[n][i])},y=function(e){var n=e.rowIndex,r=e.data,i=t(e,["rowIndex","data"]);return s.createElement(l,i,r[n].tags.map(function(e,t){return s.createElement("span",{key:t,className:"label label-default"},e.role," ",s.createElement("li",{className:"fa fa-long-arrow-right"}),e.value)}))},E=function(e){function n(e){var t=r[e];return i?function(){return i(u,t)}:function(){return d(u,t)}}var r=e.logins,i=e.onLoginClick,a=e.rowIndex,o=e.data,c=t(e,["logins","onLoginClick","rowIndex","data"]);if(!r||0===r.length)return s.createElement(l,c);for(var u=o[a].id,f=[],h=0;h<r.length;h++)f.push(s.createElement("li",{key:h},s.createElement("a",{onClick:n(h)},r[h])));return s.createElement(l,c,s.createElement("div",{className:"btn-group"},s.createElement("button",{type:"button",onClick:n(0),className:"btn btn-xs btn-primary"},r[0]),f.length>1?[s.createElement("button",{key:0,"data-toggle":"dropdown",className:"btn btn-default btn-xs dropdown-toggle","aria-expanded":"true"},s.createElement("span",{className:"caret"})),s.createElement("ul",{key:1,className:"dropdown-menu"},f)]:null))},_=s.createClass({displayName:"NodeList",mixins:[h],getInitialState:function(){return this.searchableProps=["addr","hostname","tags"],{filter:"",colSortDirs:{hostname:u.DESC}}},onSortChange:function(e,t){var n;this.setState(r({},this.state,{colSortDirs:(n={},n[e]=t,n)}))},searchAndFilterCb:function(e,t,n){return"tags"===n?e.some(function(e){var n=e.role,r=e.value;return-1!==n.toLocaleUpperCase().indexOf(t)||-1!==r.toLocaleUpperCase().indexOf(t)}):void 0},sortAndFilter:function(e){var t=this,n=e.filter(function(e){return v(e,t.state.filter,{searchableProps:t.searchableProps,cb:t.searchAndFilterCb})}),r=Object.getOwnPropertyNames(this.state.colSortDirs)[0],s=this.state.colSortDirs[r],i=p.sortBy(n,r);return s===u.ASC&&(i=i.reverse()),i},render:function(){var e=this.sortAndFilter(this.props.nodeRecords),t=this.props.logins,n=this.props.onLoginClick;return s.createElement("div",{className:"grv-nodes grv-page"},s.createElement("div",{className:"grv-flex grv-header"},s.createElement("div",{className:"grv-flex-column"}),s.createElement("div",{className:"grv-flex-column"},s.createElement("h1",null," Nodes ")),s.createElement("div",{className:"grv-flex-column"},s.createElement("div",{className:"grv-search"},s.createElement("input",{valueLink:this.linkState("filter"),placeholder:"Search...",className:"form-control input-sm"})))),s.createElement("div",{className:""},s.createElement(a,{rowCount:e.length,className:"table-striped grv-nodes-table"},s.createElement(o,{columnKey:"hostname",header:s.createElement(c,{sortDir:this.state.colSortDirs.hostname,onSortChange:this.onSortChange,title:"Node"}),cell:s.createElement(g,{data:e})}),s.createElement(o,{columnKey:"addr",header:s.createElement(c,{sortDir:this.state.colSortDirs.addr,onSortChange:this.onSortChange,title:"IP"}),cell:s.createElement(g,{data:e})}),s.createElement(o,{columnKey:"tags",header:s.createElement(l,null),cell:s.createElement(y,{data:e})}),s.createElement(o,{columnKey:"roles",onLoginClick:n,header:s.createElement(l,null,"Login as"),cell:s.createElement(E,{data:e,logins:t})}))))}});e.exports=_}).call(this)}finally{}},101:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(6),s=n(303),i=s.getters,a=n(62),o=a.closeSelectNodeDialog,l=n(100),c=n(60),u=n(43),f=n(24),d=t.createClass({displayName:"SelectNodeDialog",mixins:[r.ReactMixin],getDataBindings:function(){return{dialogs:i.dialogs}},render:function(){return this.state.dialogs.isSelectNodeDialogOpen?t.createElement(h,null):null}}),h=t.createClass({displayName:"Dialog",onLoginClick:function(e){d.onServerChangeCallBack&&d.onServerChangeCallBack({serverId:e}),o()},componentWillUnmount:function(){f(".modal").modal("hide")},componentDidMount:function(){f(".modal").modal("show")},render:function(){var e=r.evaluate(c.activeSession)||{},n=r.evaluate(u.nodeListView),s=[e.login];return t.createElement("div",{className:"modal fade grv-dialog-select-node",tabIndex:-1,role:"dialog"},t.createElement("div",{className:"modal-dialog"},t.createElement("div",{className:"modal-content"},t.createElement("div",{className:"modal-header"}),t.createElement("div",{className:"modal-body"},t.createElement(l,{nodeRecords:n,logins:s,onLoginClick:this.onLoginClick})),t.createElement("div",{className:"modal-footer"},t.createElement("button",{onClick:o,type:"button",className:"btn btn-primary"},"Close")))))}});d.onServerChangeCallBack=function(){},e.exports=d}).call(this)}finally{}},102:function(e,t,n){try{(function(){"use strict";function e(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var r=n(2),s=n(6),i=n(37),a=i.Link,o=n(43),l=o.nodeHostNameByServerId,c=n(42),u=c.Cell,f=n(1),d=function(t){var n=t.rowIndex,s=t.data,i=e(t,["rowIndex","data"]),a=s[n].created,o=f(a).format("l LTS");return r.createElement(u,i,o)},h=function(t){var n=t.rowIndex,s=t.data,i=e(t,["rowIndex","data"]),a=s[n].created,o=s[n].lastActive,l=f(a),c=f(o),d=f.duration(c.diff(l)),h=d.humanize();return r.createElement(u,i,h)},p=function(t){var n=t.rowIndex,s=t.data,i=e(t,["rowIndex","data"]);return r.createElement(u,i,r.createElement("span",{className:"grv-sessions-user label label-default"},s[n].login))},m=function(t){var n=t.rowIndex,s=t.data,i=e(t,["rowIndex","data"]),a=s[n].parties.map(function(e,t){return r.createElement("span",{key:t,className:"grv-sessions-user label label-default"},e.user)});return r.createElement(u,i,r.createElement("div",null,a))},v=function(t){var n=t.rowIndex,s=t.data,i=e(t,["rowIndex","data"]),o=s[n],l=o.sessionUrl,c=o.active,f=c?["join","btn-warning"]:["play","btn-primary"],d=f[0],h=f[1];return r.createElement(u,i,r.createElement(a,{to:l,className:"btn "+h+" btn-xs",type:"button"},d))},g=function(e){var t=e.text;return r.createElement("div",{className:"grv-sessions-empty text-center text-muted"},r.createElement("span",null,t))},y=function(t){var n=t.rowIndex,i=t.data,a=e(t,["rowIndex","data"]),o=i[n].serverId,c=s.evaluate(l(o))||"unknown";return r.createElement(u,a,c)};t["default"]=v,t.ButtonCell=v,t.UsersCell=m,t.DurationCell=h,t.DateCreatedCell=d,t.EmptyList=g,t.SingleUserCell=p,t.NodeCell=y}).call(this)}finally{}},103:function(e,t,n){try{(function(){"use strict";var t=n(427),r=n(2),s=n(24),i=n(57),a=i.debounce,o=i.isNumber;t.colors[256]="#252323";var l="[31mdisconnected[m\r\n",c="Connected!\r\n",u=r.createClass({displayName:"TtyTerminal",getInitialState:function(){var e=this;return this.rows=this.props.rows,this.cols=this.props.cols,this.tty=this.props.tty,this.debouncedResize=a(function(){e.resize(),e.tty.resize(e.cols,e.rows)},200),{}},componentDidMount:function(){var e=this;this.term=new t({cols:5,rows:5,useStyle:!0,screenKeys:!0,cursorBlink:!0}),this.term.open(this.refs.container),this.term.on("data",function(t){return e.tty.send(t)}),this.resize(this.cols,this.rows),this.tty.on("open",function(){return e.term.write(c)}),this.tty.on("close",function(){return e.term.write(l)}),this.tty.on("data",function(t){return e.term.write(t)}),this.tty.on("reset",function(){return e.term.reset()}),this.tty.connect({cols:this.cols,rows:this.rows}),window.addEventListener("resize",this.debouncedResize)},componentWillUnmount:function(){this.term.destroy(),window.removeEventListener("resize",this.debouncedResize)},shouldComponentUpdate:function(e){var t=e.rows,n=e.cols;return o(t)&&o(n)?(t===this.rows&&n===this.cols||this.resize(n,t),!1):!1},render:function(){return r.createElement("div",{className:"grv-terminal",id:"terminal-box",ref:"container"},"  ")},resize:function(e,t){if(!o(e)||!o(t)){var n=this._getDimensions();e=n.cols,t=n.rows}this.cols=e,this.rows=t,this.term.resize(this.cols,this.rows)},_getDimensions:function(){var e=s(this.refs.container),t=s("<div><span>&nbsp;</span></div>");e.find(".terminal").append(t);var n=t[0].getBoundingClientRect().height,r=t.children().first()[0].getBoundingClientRect().width,i=e[0].clientWidth,a=e[0].clientHeight,o=Math.floor(i/r),l=Math.floor(a/n);return t.remove(),{cols:o,rows:l}}});u.propTypes={tty:r.PropTypes.object.isRequired},e.exports=u}).call(this)}finally{}},104:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_TERM_OPEN:null,TLPT_TERM_CLOSE:null,TLPT_TERM_CHANGE_SERVER:null}),e.exports=t["default"]}).call(this)}finally{}},105:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(25),i=n(282),a=n(30),o=n(8),l=n(60),c=n(313),u=n(59).create("Current Session"),f=n(104),d=f.TLPT_TERM_OPEN,h=f.TLPT_TERM_CLOSE,p=f.TLPT_TERM_CHANGE_SERVER,m={changeServer:function(e,t){r.dispatch(p,{serverId:e,login:t})},close:function(){var e=r.evaluate(l.activeSession),t=e.isNewSession;r.dispatch(h),t?s.getHistory().push(o.routes.nodes):s.getHistory().push(o.routes.sessions)},resize:function(e,t){e=5>e?5:e,t=5>t?5:t;var n={terminal_params:{w:e,h:t}},s=r.evaluate(l.activeSession),i=s.sid;u.info("resize","w:"+e+" and h:"+t),a.put(o.api.getTerminalSessionUrl(i),n).done(function(){return u.info("resized")}).fail(function(e){return u.error("failed to resize",e)})},openSession:function(e){u.info("attempt to open session",{sid:e}),c.actions.fetchSession(e).done(function(){var t=r.evaluate(c.getters.sessionViewById(e)),n=t.serverId,s=t.login;u.info("open session","OK"),r.dispatch(d,{serverId:n,login:s,sid:e,isNewSession:!1})}).fail(function(e){u.error("open session",e),s.getHistory().push(o.routes.pageNotFound)})},createNewSession:function(e,t){var n=i(),a=o.getActiveSessionRouteUrl(n),l=s.getHistory();u.info("createNewSession",{serverId:e,login:t}),r.dispatch(d,{serverId:e,login:t,sid:n,isNewSession:!0}),l.push(a)}};t["default"]=m,e.exports=t["default"]}).call(this)}finally{}},106:function(e,t,n){try{(function(){"use strict";function r(e,t){var n=t.serverId,r=t.login;return e.set("serverId",n).set("login",r)}function s(){return l(null)}function i(e,t){var n=t.serverId,r=t.login,s=t.sid,i=t.isNewSession;return l({serverId:n,login:r,sid:s,isNewSession:i})}t.__esModule=!0;var a=n(12),o=a.Store,l=a.toImmutable,c=n(104),u=c.TLPT_TERM_OPEN,f=c.TLPT_TERM_CLOSE,d=c.TLPT_TERM_CHANGE_SERVER;t["default"]=o({getInitialState:function(){return l(null)},initialize:function(){this.on(u,i),this.on(f,s),this.on(d,r)}}),e.exports=t["default"]}).call(this)}finally{}},107:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_APP_INIT:null,TLPT_APP_FAILED:null,TLPT_APP_READY:null}),e.exports=t["default"]}).call(this)}finally{}},108:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(12),s=r.Store,i=r.toImmutable,a=n(107),o=a.TLPT_APP_INIT,l=a.TLPT_APP_FAILED,c=a.TLPT_APP_READY,u=i({isReady:!1,isInitializing:!1,isFailed:!1});t["default"]=s({getInitialState:function(){return u.set("isInitializing",!0)},initialize:function(){this.on(o,function(){return u.set("isInitializing",!0)}),this.on(c,function(){return u.set("isReady",!0)}),this.on(l,function(){return u.set("isFailed",!0)})}}),e.exports=t["default"]}).call(this)}finally{}},109:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_DIALOG_SELECT_NODE_SHOW:null,TLPT_DIALOG_SELECT_NODE_CLOSE:null}),e.exports=t["default"]}).call(this)}finally{}},110:function(e,t,n){try{(function(){"use strict";function r(e){return e.set("isSelectNodeDialogOpen",!0)}function s(e){return e.set("isSelectNodeDialogOpen",!1)}t.__esModule=!0;var i=n(12),a=i.Store,o=i.toImmutable,l=n(109),c=l.TLPT_DIALOG_SELECT_NODE_SHOW,u=l.TLPT_DIALOG_SELECT_NODE_CLOSE;t["default"]=a({getInitialState:function(){return o({isSelectNodeDialogOpen:!1})},initialize:function(){this.on(c,r),this.on(u,s)}}),e.exports=t["default"]}).call(this)}finally{}},111:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_RECEIVE_USER_INVITE:null}),e.exports=t["default"]}).call(this)}finally{}},112:function(e,t,n){try{(function(){"use strict";function r(e,t){return a(t)}t.__esModule=!0;var s=n(12),i=s.Store,a=s.toImmutable,o=n(111),l=o.TLPT_RECEIVE_USER_INVITE;t["default"]=i({getInitialState:function(){return a(null)},initialize:function(){this.on(l,r)}}),e.exports=t["default"]}).call(this)}finally{}},113:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_NODES_RECEIVE:null}),e.exports=t["default"]}).call(this)}finally{}},114:function(e,t,n){try{(function(){
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_NOTIFICATIONS_ADD:null}),e.exports=t["default"]}).call(this)}finally{}},115:function(e,t,n){try{(function(){"use strict";function r(e){s.dispatch(a,e)}t.__esModule=!0;var s=n(6),i=n(114),a=i.TLPT_NOTIFICATIONS_ADD;t["default"]={showError:function(e){var t=arguments.length<=1||void 0===arguments[1]?"ERROR":arguments[1];r({isError:!0,text:e,title:t})},showSuccess:function(e){var t=arguments.length<=1||void 0===arguments[1]?"SUCCESS":arguments[1];r({isSuccess:!0,text:e,title:t})},showInfo:function(e){var t=arguments.length<=1||void 0===arguments[1]?"INFO":arguments[1];r({isInfo:!0,text:e,title:t})},showWarning:function(e){var t=arguments.length<=1||void 0===arguments[1]?"WARNING":arguments[1];r({isWarning:!0,text:e,title:t})}},e.exports=t["default"]}).call(this)}finally{}},116:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_REST_API_START:null,TLPT_REST_API_SUCCESS:null,TLPT_REST_API_FAIL:null}),e.exports=t["default"]}).call(this)}finally{}},117:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(116),i=s.TLPT_REST_API_START,a=s.TLPT_REST_API_SUCCESS,o=s.TLPT_REST_API_FAIL;t["default"]={start:function(e){r.dispatch(i,{type:e})},fail:function(e,t){r.dispatch(o,{type:e,message:t})},success:function(e){r.dispatch(a,{type:e})}},e.exports=t["default"]}).call(this)}finally{}},118:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var n={isProcessing:!1,isError:!1,isSuccess:!1,message:""},r=function(e){return[["tlpt_rest_api",e],function(e){return e?e.toJS():n}]};t["default"]={requestStatus:r},e.exports=t["default"]}).call(this)}finally{}},119:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_SESSINS_RECEIVE:null,TLPT_SESSINS_UPDATE:null}),e.exports=t["default"]}).call(this)}finally{}},120:function(e,t,n){try{(function(){"use strict";function r(e,t){return e.set(t.id,o(t))}function s(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return e.withMutations(function(e){t.forEach(function(t){t.created=new Date(t.created),t.last_active=new Date(t.last_active),e.set(t.id,o(t))})})}t.__esModule=!0;var i=n(12),a=i.Store,o=i.toImmutable,l=i.Immutable,c=n(119),u=c.TLPT_SESSINS_RECEIVE,f=c.TLPT_SESSINS_UPDATE;t["default"]=a({getInitialState:function(){return new l.OrderedMap},initialize:function(){this.on(u,s),this.on(f,r)}}),e.exports=t["default"]}).call(this)}finally{}},121:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_STORED_SESSINS_FILTER_SET_RANGE:null,TLPT_STORED_SESSINS_FILTER_SET_STATUS:null,TLPT_STORED_SESSINS_FILTER_RECEIVE_MORE:null}),e.exports=t["default"]}).call(this)}finally{}},122:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(14),i=r(s);t["default"]=i["default"]({TLPT_RECEIVE_USER:null}),e.exports=t["default"]}).call(this)}finally{}},123:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(122),i=s.TLPT_RECEIVE_USER,a=n(44),o=a.TRYING_TO_SIGN_UP,l=a.TRYING_TO_LOGIN,c=n(117),u=n(94),f=n(25),d=n(8);t["default"]={ensureUser:function(e,t,n){u.ensureUser().done(function(e){r.dispatch(i,e.user),n()}).fail(function(){t({redirectTo:e.location.pathname},d.routes.login),n()})},signUp:function(e){var t=e.name,n=e.psw,s=e.token,a=e.inviteToken;c.start(o),u.signUp(t,n,s,a).done(function(e){r.dispatch(i,e.user),c.success(o),f.getHistory().push({pathname:d.routes.app})}).fail(function(e){c.fail(o,e.responseJSON.message||"failed to sing up")})},login:function(e,t){var n=e.user,s=e.password,a=e.token;c.start(l),u.login(n,s,a).done(function(e){c.success(l),r.dispatch(i,e.user),f.getHistory().push({pathname:t})}).fail(function(e){return c.fail(l,e.responseJSON.message)})}},e.exports=t["default"]}).call(this)}finally{}},124:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(65),e.exports.actions=n(123),e.exports.nodeStore=n(125)}).call(this)}finally{}},125:function(e,t,n){try{(function(){"use strict";function r(e,t){return a(t)}t.__esModule=!0;var s=n(12),i=s.Store,a=s.toImmutable,o=n(122),l=o.TLPT_RECEIVE_USER;t["default"]=i({getInitialState:function(){return a(null)},initialize:function(){this.on(l,r)}}),e.exports=t["default"]}).call(this)}finally{}},280:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){return r(e).replace(/\/+/g,"/+")}function i(e){for(var t="",n=[],r=[],i=void 0,a=0,o=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;i=o.exec(e);)i.index!==a&&(r.push(e.slice(a,i.index)),t+=s(e.slice(a,i.index))),i[1]?(t+="([^/?#]+)",n.push(i[1])):"**"===i[0]?(t+="([\\s\\S]*)",n.push("splat")):"*"===i[0]?(t+="([\\s\\S]*?)",n.push("splat")):"("===i[0]?t+="(?:":")"===i[0]&&(t+=")?"),r.push(i[0]),a=o.lastIndex;return a!==e.length&&(r.push(e.slice(a,e.length)),t+=s(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function a(e){return e in h||(h[e]=i(e)),h[e]}function o(e,t){"/"!==e.charAt(0)&&(e="/"+e),"/"!==t.charAt(0)&&(t="/"+t);var n=a(e),r=n.regexpSource,s=n.paramNames,i=n.tokens;r+="/*";var o="*"!==i[i.length-1];o&&(r+="([\\s\\S]*?)");var l=t.match(new RegExp("^"+r+"$","i")),c=void 0,u=void 0;if(null!=l){if(o){c=l.pop();var f=l[0].substr(0,l[0].length-c.length);if(c&&"/"!==f.charAt(f.length-1))return{remainingPathname:null,paramNames:s,paramValues:null}}else c="";u=l.slice(1).map(function(e){return null!=e?decodeURIComponent(e):e})}else c=u=null;return{remainingPathname:c,paramNames:s,paramValues:u}}function l(e){return a(e).paramNames}function c(e,t){var n=o(e,t),r=n.paramNames,s=n.paramValues;return null!=s?r.reduce(function(e,t,n){return e[t]=s[n],e},{}):null}function u(e,t){t=t||{};for(var n=a(e),r=n.tokens,s=0,i="",o=0,l=void 0,c=void 0,u=void 0,f=0,h=r.length;h>f;++f)l=r[f],"*"===l||"**"===l?(u=Array.isArray(t.splat)?t.splat[o++]:t.splat,d["default"](null!=u||s>0,'Missing splat #%s for path "%s"',o,e),null!=u&&(i+=encodeURI(u))):"("===l?s+=1:")"===l?s-=1:":"===l.charAt(0)?(c=l.substring(1),u=t[c],d["default"](null!=u||s>0,'Missing "%s" parameter for path "%s"',c,e),null!=u&&(i+=encodeURIComponent(u))):i+=l;return i.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=a,t.matchPattern=o,t.getParamNames=l,t.getParams=c,t.formatPattern=u;var f=n(11),d=e(f),h={}}).call(this)}finally{}},281:function(e,t,n){try{(function(){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=n(96),a=n(30),o=n(8),l=function(e){function t(n){var s=n.sid;r(this,t),e.call(this,{}),this.sid=s,this.current=1,this.length=-1,this.ttySteam=new Array,this.isLoaind=!1,this.isPlaying=!1,this.isError=!1,this.isReady=!1,this.isLoading=!0}return s(t,e),t.prototype.send=function(){},t.prototype.resize=function(){},t.prototype.connect=function(){var e=this;a.get(o.api.getFetchSessionLengthUrl(this.sid)).done(function(t){e.length=t.count,e.isReady=!0}).fail(function(){e.isError=!0}).always(function(){e._change()})},t.prototype.move=function(e){this.isReady&&(void 0===e&&(e=this.current+1),e>this.length&&(e=this.length,this.stop()),0===e&&(e=1),this.isPlaying?this.current<e?this._showChunk(this.current,e):(this.emit("reset"),this._showChunk(this.current,e)):this.current=e,this._change())},t.prototype.stop=function(){this.isPlaying=!1,this.timer=clearInterval(this.timer),this._change()},t.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.current===this.length&&(this.current=1,this.emit("reset")),this.timer=setInterval(this.move.bind(this),150),this._change())},t.prototype._shouldFetch=function(e,t){for(var n=e;t>n;n++)if(void 0===this.ttySteam[n])return!0;return!1},t.prototype._fetch=function(e,t){var n=this;return t+=50,t=t>this.length?this.length:t,a.get(o.api.getFetchSessionChunkUrl({sid:this.sid,start:e,end:t})).done(function(r){for(var s=0;t-e>s;s++){var i=atob(r.chunks[s].data)||"",a=r.chunks[s].delay;n.ttySteam[e+s]={data:i,delay:a}}})},t.prototype._showChunk=function(e,t){var n=this,r=function(){for(var r=e;t>r;r++)n.emit("data",n.ttySteam[r].data);n.current=t};this._shouldFetch(e,t)?this._fetch(e,t).then(r):r()},t.prototype._change=function(){this.emit("change")},t}(i);t["default"]=l,e.exports=t["default"]}).call(this)}finally{}},282:function(e,t,n){try{(function(){"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}}).call(this)}finally{}},283:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(291),s=n(6),i=n(301),a=i.actions,o=i.getters,l=n(101),c=n(294),u=t.createClass({displayName:"App",mixins:[s.ReactMixin],getDataBindings:function(){return{app:o.appState}},componentWillMount:function(){a.initApp(),this.refreshInterval=setInterval(a.fetchNodesAndSessions,35e3)},componentWillUnmount:function(){clearInterval(this.refreshInterval)},render:function(){return this.state.app.isInitializing?null:t.createElement("div",{className:"grv-tlpt grv-flex grv-flex-row"},t.createElement(l,null),t.createElement(c,null),this.props.CurrentSessionHost,t.createElement(r,null),this.props.children)}});e.exports=u}).call(this)}finally{}},284:function(e,t,n){try{(function(){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=n(2),s=n(6),i=n(43),a=i.nodeHostNameByServerId,o=n(96),l=n(103),c=n(285),u=n(97),f=n(62),d=f.closeSelectNodeDialog,h=n(101),p=r.createClass({displayName:"ActiveSession",componentWillUnmount:function(){d()},render:function(){var e=this.props.activeSession,t=e.login,n=e.parties,i=e.serverId,o="";if(i){var l=s.evaluate(a(i));o=t+"@"+l}return r.createElement("div",{className:"grv-current-session"},r.createElement(u,{parties:n}),r.createElement("div",{className:"grv-current-session-server-info"},r.createElement("h3",null,o)),r.createElement(m,this.props.activeSession))}}),m=r.createClass({displayName:"TtyConnection",getInitialState:function(){var e=this;this.tty=new o(this.props),this.tty.on("open",function(){return e.setState(t({},e.state,{isConnected:!0}))});var n=this.props,r=n.serverId,s=n.login;return{serverId:r,login:s,isConnected:!1}},componentDidMount:function(){h.onServerChangeCallBack=this.componentWillReceiveProps.bind(this)},componentWillUnmount:function(){h.onServerChangeCallBack=null,this.tty.disconnect()},componentWillReceiveProps:function(e){var n=e.serverId;n&&n!==this.state.serverId&&(this.tty.reconnect({serverId:n}),this.refs.ttyCmntInstance.term.focus(),this.setState(t({},this.state,{serverId:n})))},render:function(){return r.createElement("div",{style:{height:"100%"}},r.createElement(l,{ref:"ttyCmntInstance",tty:this.tty,cols:this.props.cols,rows:this.props.rows}),this.state.isConnected?r.createElement(c,{sid:this.props.sid}):null)}});e.exports=p}).call(this)}finally{}},285:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(8),s=n(2),i=n(25),a=n(45),o=a.updateSession,l=s.createClass({displayName:"EventStreamer",componentDidMount:function(){var e=this.props.sid,t=i.getUserData(),n=t.token,s=r.api.getEventStreamConnStr(n,e);this.socket=new WebSocket(s,"proto"),this.socket.onmessage=function(e){try{var t=JSON.parse(e.data);o(t.session)}catch(n){console.log("failed to parse event stream data")}},this.socket.onclose=function(){}},componentWillUnmount:function(){this.socket.close()},shouldComponentUpdate:function(){return!1},render:function(){return null}});t["default"]=l,e.exports=t["default"]}).call(this)}finally{}},286:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(6),s=n(61),i=s.getters,a=s.actions,o=n(287),l=n(284),c=t.createClass({displayName:"CurrentSessionHost",mixins:[r.ReactMixin],getDataBindings:function(){return{currentSession:i.activeSession}},componentDidMount:function(){var e=this.props.params.sid;this.state.currentSession||a.openSession(e)},render:function(){var e=this.state.currentSession;return e?e.isNewSession||e.active?t.createElement(l,{activeSession:e}):t.createElement(o,{activeSession:e}):null}});e.exports=c}).call(this)}finally{}},287:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(2),s=n(243),i=n(281),a=n(103),o=n(97),l=r.createClass({displayName:"SessionPlayer",calculateState:function(){return{length:this.tty.length,min:1,isPlaying:this.tty.isPlaying,current:this.tty.current,canPlay:this.tty.length>1}},getInitialState:function(){var e=this.props.activeSession.sid;return this.tty=new i({sid:e}),this.calculateState()},componentWillUnmount:function(){this.tty.stop(),this.tty.removeAllListeners()},componentDidMount:function(){var e=this;this.tty.on("change",function(){var t=e.calculateState();e.setState(t)})},togglePlayStop:function(){this.state.isPlaying?this.tty.stop():this.tty.play()},move:function(e){this.tty.move(e)},onBeforeChange:function(){this.tty.stop()},onAfterChange:function(e){this.tty.play(),this.tty.move(e)},render:function(){var e=this.state.isPlaying;return r.createElement("div",{className:"grv-current-session grv-session-player"},r.createElement(o,null),r.createElement(a,{ref:"term",tty:this.tty,cols:"5",rows:"5"}),r.createElement(s,{min:this.state.min,max:this.state.length,value:this.state.current,onAfterChange:this.onAfterChange,onBeforeChange:this.onBeforeChange,defaultValue:1,withBars:!0,className:"grv-slider"}),r.createElement("button",{className:"btn",onClick:this.togglePlayStop},e?r.createElement("i",{className:"fa fa-stop"}):r.createElement("i",{className:"fa fa-play"})))}});t["default"]=l,e.exports=t["default"]}).call(this)}finally{}},288:function(e,t,n){try{(function(){"use strict";function e(e,t){return i(e).isSame(t,"day")}t.__esModule=!0;var r=n(2),s=n(24),i=n(1),a=n(57),o=a.debounce,l=r.createClass({displayName:"DateRangePicker",getDates:function(){var e=s(this.refs.dpPicker1).datepicker("getDate"),t=s(this.refs.dpPicker2).datepicker("getDate");return[e,t]},setDates:function(e){var t=e.startDate,n=e.endDate;s(this.refs.dpPicker1).datepicker("setDate",t),s(this.refs.dpPicker2).datepicker("setDate",n)},getDefaultProps:function(){return{startDate:i().startOf("month").toDate(),endDate:i().endOf("month").toDate(),onChange:function(){}}},componentWillUnmount:function(){s(this.refs.dp).datepicker("destroy")},componentWillReceiveProps:function(t){var n=this.getDates(),r=n[0],s=n[1];e(r,t.startDate)&&e(s,t.endDate)||this.setDates(t)},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this.onChange=o(this.onChange,1),s(this.refs.rangePicker).datepicker({todayBtn:"linked",keyboardNavigation:!1,forceParse:!1,calendarWeeks:!0,autoclose:!0}).on("changeDate",this.onChange),this.setDates(this.props)},onChange:function(){var t=this.getDates(),n=t[0],r=t[1];e(n,this.props.startDate)&&e(r,this.props.endDate)||this.props.onChange({startDate:n,endDate:r})},render:function(){return r.createElement("div",{className:"grv-datepicker input-group input-daterange",ref:"rangePicker"},r.createElement("input",{ref:"dpPicker1",type:"text",className:"input-sm form-control",name:"start"}),r.createElement("span",{className:"input-group-addon"},"to"),r.createElement("input",{ref:"dpPicker2",type:"text",className:"input-sm form-control",name:"end"}))}}),c=r.createClass({displayName:"CalendarNav",render:function(){var e=this.props.value,t=i(e).format("MMM Do, YYYY");return r.createElement("div",{className:"grv-calendar-nav "+this.props.className},r.createElement("button",{onClick:this.move.bind(this,-1),className:"btn btn-outline btn-link"},r.createElement("i",{className:"fa fa-chevron-left"})),r.createElement("span",{className:"text-muted"},t),r.createElement("button",{onClick:this.move.bind(this,1),className:"btn btn-outline btn-link"},r.createElement("i",{className:"fa fa-chevron-right"})))},move:function(e){var t=this.props.value,n=i(t).add(e,"week").toDate();this.props.onValueChange(n)}});c.getweekRange=function(e){var t=i(e).startOf("month").toDate(),n=i(e).endOf("month").toDate();return[t,n]},t["default"]=l,t.CalendarNav=c,t.DateRangePicker=l}).call(this)}finally{}},289:function(e,t,n){try{(function(){"use strict";e.exports.App=n(283),e.exports.Login=n(290),e.exports.NewUser=n(292),e.exports.Nodes=n(293),e.exports.Sessions=n(296),e.exports.CurrentSessionHost=n(286),e.exports.NotFound=n(98).NotFound}).call(this)}finally{}},290:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(24),s=n(6),i=n(36),a=n(124),o=a.actions,l=a.getters,c=n(99),u=n(8),f=t.createClass({displayName:"LoginInputForm",mixins:[i],getInitialState:function(){return{user:"",password:"",token:""}},onClick:function(e){e.preventDefault(),this.isValid()&&this.props.onClick(this.state)},isValid:function(){var e=r(this.refs.form);return 0===e.length||e.valid()},render:function(){var e=this.props.attemp,n=e.isProcessing,r=e.isFailed,s=e.message;return t.createElement("form",{ref:"form",className:"grv-login-input-form"},t.createElement("h3",null," Welcome to Teleport "),t.createElement("div",{className:""},t.createElement("div",{className:"form-group"},t.createElement("input",{autoFocus:!0,valueLink:this.linkState("user"),className:"form-control required",placeholder:"User name",name:"userName"})),t.createElement("div",{className:"form-group"},t.createElement("input",{valueLink:this.linkState("password"),type:"password",name:"password",className:"form-control required",placeholder:"Password"})),t.createElement("div",{className:"form-group"},t.createElement("input",{valueLink:this.linkState("token"),className:"form-control required",name:"token",placeholder:"Two factor token (Google Authenticator)"})),t.createElement("button",{onClick:this.onClick,disabled:n,type:"submit",className:"btn btn-primary block full-width m-b"},"Login"),r?t.createElement("label",{className:"error"},s):null))}}),d=t.createClass({displayName:"Login",mixins:[s.ReactMixin],getDataBindings:function(){return{attemp:l.loginAttemp}},onClick:function(e){var t=this.props.location,n=u.routes.app;t.state&&t.state.redirectTo&&(n=t.state.redirectTo),o.login(e,n)},render:function(){return t.createElement("div",{className:"grv-login text-center"},t.createElement("div",{className:"grv-logo-tprt"}),t.createElement("div",{className:"grv-content grv-flex"},t.createElement("div",{className:"grv-flex-column"},t.createElement(f,{attemp:this.state.attemp,onClick:this.onClick}),t.createElement(c,null),t.createElement("div",{className:"grv-login-info"},t.createElement("i",{className:"fa fa-question"}),t.createElement("strong",null,"New Account or forgot password?"),t.createElement("div",null,"Ask for assistance from your Company administrator")))))}});e.exports=d}).call(this)}finally{}},291:function(e,t,n){try{(function(){"use strict";function t(){var e=s.evaluate(o.user),t=e.shortDisplayName;return t}var r=n(2),s=n(6),i=n(37),a=i.IndexLink,o=n(65),l=n(8),c=[{icon:"fa fa-cogs",to:l.routes.nodes,title:"Nodes"},{icon:"fa fa-sitemap",to:l.routes.sessions,title:"Sessions"}],u=r.createClass({displayName:"NavLeftBar",render:function(){var e=this,n=c.map(function(t,n){var s=e.context.router.isActive(t.to)?"active":"";return r.createElement("li",{key:n,className:s,title:t.title},r.createElement(a,{to:t.to},r.createElement("i",{className:t.icon})))});return n.push(r.createElement("li",{key:n.length,title:"help"},r.createElement("a",{href:l.helpUrl,target:"_blank"},r.createElement("i",{className:"fa fa-question"})))),n.push(r.createElement("li",{key:n.length,title:"logout"},r.createElement("a",{href:l.routes.logout},r.createElement("i",{className:"fa fa-sign-out",style:{marginRight:0}})))),r.createElement("nav",{className:"grv-nav navbar-default",role:"navigation"},r.createElement("ul",{className:"nav text-center",id:"side-menu"},r.createElement("li",{title:"current user"},r.createElement("div",{className:"grv-circle text-uppercase"},r.createElement("span",null,t()))),n))}});u.contextTypes={router:r.PropTypes.object.isRequired},e.exports=u}).call(this)}finally{}},292:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(24),s=n(6),i=n(307),a=i.actions,o=i.getters,l=n(124),c=n(36),u=n(99),f=n(98),d=f.ExpiredInvite,h=t.createClass({displayName:"InviteInputForm",mixins:[c],componentDidMount:function(){r(this.refs.form).validate({rules:{password:{minlength:6,required:!0},passwordConfirmed:{required:!0,equalTo:this.refs.password}},messages:{passwordConfirmed:{minlength:r.validator.format("Enter at least {0} characters"),equalTo:"Enter the same password as above"}}})},getInitialState:function(){return{name:this.props.invite.user,psw:"",pswConfirmed:"",token:""}},onClick:function(e){e.preventDefault(),this.isValid()&&l.actions.signUp({name:this.state.name,psw:this.state.psw,token:this.state.token,inviteToken:this.props.invite.invite_token})},isValid:function(){var e=r(this.refs.form);return 0===e.length||e.valid()},render:function(){var e=this.props.attemp,n=e.isProcessing,r=e.isFailed,s=e.message;return t.createElement("form",{ref:"form",className:"grv-invite-input-form"},t.createElement("h3",null," Get started with Teleport "),t.createElement("div",{className:""},t.createElement("div",{className:"form-group"},t.createElement("input",{valueLink:this.linkState("name"),name:"userName",className:"form-control required",placeholder:"User name"})),t.createElement("div",{className:"form-group"},t.createElement("input",{autoFocus:!0,valueLink:this.linkState("psw"),ref:"password",type:"password",name:"password",className:"form-control",placeholder:"Password"})),t.createElement("div",{className:"form-group"},t.createElement("input",{valueLink:this.linkState("pswConfirmed"),type:"password",name:"passwordConfirmed",className:"form-control",placeholder:"Password confirm"})),t.createElement("div",{className:"form-group"},t.createElement("input",{name:"token",valueLink:this.linkState("token"),className:"form-control required",placeholder:"Two factor token (Google Authenticator)"})),t.createElement("button",{type:"submit",disabled:n,className:"btn btn-primary block full-width m-b",onClick:this.onClick},"Sign up"),r?t.createElement("label",{className:"error"},s):null))}}),p=t.createClass({displayName:"Invite",mixins:[s.ReactMixin],getDataBindings:function(){return{invite:o.invite,attemp:o.attemp,fetchingInvite:o.fetchingInvite}},componentDidMount:function(){a.fetchInvite(this.props.params.inviteToken)},render:function(){var e=this.state,n=e.fetchingInvite,r=e.invite,s=e.attemp;return n.isFailed?t.createElement(d,null):r?t.createElement("div",{className:"grv-invite text-center"},t.createElement("div",{className:"grv-logo-tprt"}),t.createElement("div",{className:"grv-content grv-flex"},t.createElement("div",{className:"grv-flex-column"},t.createElement(h,{attemp:s,invite:r.toJS()}),t.createElement(u,null)),t.createElement("div",{className:"grv-flex-column grv-invite-barcode"},t.createElement("h4",null,"Scan bar code for auth token ",t.createElement("br",null)," ",t.createElement("small",null,"Scan below to generate your two factor token")),t.createElement("img",{className:"img-thumbnail",src:"data:image/png;base64,"+r.get("qr")})))):null}});e.exports=p}).call(this)}finally{}},293:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(6),s=n(65),i=n(43),a=n(100),o=t.createClass({displayName:"Nodes",mixins:[r.ReactMixin],getDataBindings:function(){return{nodeRecords:i.nodeListView,user:s.user}},render:function(){var e=this.state.nodeRecords,n=this.state.user.logins;return t.createElement(a,{nodeRecords:e,logins:n})}});e.exports=o}).call(this)}finally{}},294:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(6),s=n(233),i=n(310),a=i.lastMessage,o=n(245),l=o.ToastContainer,c=o.ToastMessage,u=t.createFactory(c.animation),f=t.createClass({displayName:"NotificationHost",mixins:[r.ReactMixin,s],getDataBindings:function(){return{msg:a}},update:function(e){e&&(e.isError?this.refs.container.error(e.text,e.title):e.isWarning?this.refs.container.warning(e.text,e.title):e.isSuccess?this.refs.container.success(e.text,e.title):this.refs.container.info(e.text,e.title))},componentDidMount:function(){r.observe(a,this.update)},componentWillUnmount:function(){r.unobserve(a,this.update)},render:function(){return t.createElement(l,{ref:"container",toastMessageFactory:u,className:"toast-top-right"})}});e.exports=f}).call(this)}finally{}},295:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(42),s=r.Table,i=r.Column,a=r.Cell,o=r.TextCell,l=n(102),c=l.ButtonCell,u=l.UsersCell,f=l.EmptyList,d=l.NodeCell,h=l.DateCreatedCell,p=t.createClass({displayName:"ActiveSessionList",render:function(){var e=this.props.data.filter(function(e){return e.active});return t.createElement("div",{className:"grv-sessions-active"},t.createElement("div",{className:"grv-header"},t.createElement("h1",null," Active Sessions ")),t.createElement("div",{className:"grv-content"},0===e.length?t.createElement(f,{text:"You have no active sessions."}):t.createElement("div",{className:""},t.createElement(s,{rowCount:e.length,className:"table-striped"},t.createElement(i,{columnKey:"sid",header:t.createElement(a,null," Session ID "),cell:t.createElement(o,{data:e})}),t.createElement(i,{header:t.createElement(a,null," "),cell:t.createElement(c,{data:e})}),t.createElement(i,{header:t.createElement(a,null," Node "),cell:t.createElement(d,{data:e})}),t.createElement(i,{columnKey:"created",header:t.createElement(a,null," Created "),cell:t.createElement(h,{data:e})}),t.createElement(i,{header:t.createElement(a,null," Users "),cell:t.createElement(u,{data:e})})))))}});e.exports=p}).call(this)}finally{}},296:function(e,t,n){try{(function(){"use strict";var t=n(2),r=n(6),s=n(63),i=s.sessionsView,a=n(64),o=a.filter,l=n(297),c=n(295),u=t.createClass({displayName:"Sessions",mixins:[r.ReactMixin],getDataBindings:function(){return{data:i,storedSessionsFilter:o}},render:function(){var e=this.state,n=e.data,r=e.storedSessionsFilter;return t.createElement("div",{className:"grv-sessions grv-page"},t.createElement(c,{data:n}),t.createElement("hr",{className:"grv-divider"}),t.createElement(l,{data:n,filter:r}))}});e.exports=u}).call(this)}finally{}},297:function(e,t,n){try{(function(){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=n(2),s=n(315),i=s.actions,a=n(36),o=n(42),l=o.Table,c=o.Column,u=o.Cell,f=o.TextCell,d=o.SortHeaderCell,h=o.SortTypes,p=n(102),m=p.ButtonCell,v=p.SingleUserCell,g=p.EmptyList,y=p.DateCreatedCell,E=n(288),_=E.DateRangePicker,S=E.CalendarNav,N=n(1),T=n(58),x=T.weekRange,w=n(95),C=w.isMatch,I=n(57),b=r.createClass({displayName:"ArchivedSessions",mixins:[a],getInitialState:function(){return this.searchableProps=["serverIp","created","sid","login"],{filter:"",colSortDirs:{created:"ASC"}}},componentWillMount:function(){setTimeout(function(){return i.fetch()},0)},onSortChange:function(e,n){var r;this.setState(t({},this.state,{colSortDirs:(r={},r[e]=n,r)}))},onRangePickerChange:function(e){var t=e.startDate,n=e.endDate;i.setTimeRange(t,n)},onCalendarNavChange:function(e){var t=x(e),n=t[0],r=t[1];i.setTimeRange(n,r)},searchAndFilterCb:function(e,t,n){if("created"===n){var r=N(e).format("l LTS").toLocaleUpperCase();return-1!==r.indexOf(t)}},sortAndFilter:function(e){var t=this,n=e.filter(function(e){return C(e,t.state.filter,{searchableProps:t.searchableProps,cb:t.searchAndFilterCb})}),r=Object.getOwnPropertyNames(this.state.colSortDirs)[0],s=this.state.colSortDirs[r],i=I.sortBy(n,r);return s===h.ASC&&(i=i.reverse()),i},render:function(){var e=this.props.filter,t=e.start,n=e.end,s=e.status,a=this.props.data.filter(function(e){return!e.active&&N(e.created).isBetween(t,n)});return a=this.sortAndFilter(a),r.createElement("div",{className:"grv-sessions-stored"},r.createElement("div",{className:"grv-header"},r.createElement("h1",null," Archived Sessions "),r.createElement("div",{className:"grv-flex"},r.createElement("div",{className:"grv-flex-row"},r.createElement(_,{startDate:t,endDate:n,onChange:this.onRangePickerChange})),r.createElement("div",{className:"grv-flex-row"},r.createElement(S,{value:n,onValueChange:this.onCalendarNavChange})),r.createElement("div",{className:"grv-flex-row"},r.createElement("div",{className:"grv-search"},r.createElement("input",{valueLink:this.linkState("filter"),placeholder:"Search...",className:"form-control input-sm"}))))),r.createElement("div",{className:"grv-content"},0!==a.length||s.isLoading?r.createElement("div",{className:""},r.createElement(l,{rowCount:a.length,className:"table-striped"},r.createElement(c,{columnKey:"sid",header:r.createElement(u,null," Session ID "),cell:r.createElement(f,{data:a})}),r.createElement(c,{header:r.createElement(u,null," "),cell:r.createElement(m,{data:a})}),r.createElement(c,{columnKey:"created",header:r.createElement(d,{sortDir:this.state.colSortDirs.created,onSortChange:this.onSortChange,title:"Created"}),cell:r.createElement(y,{data:a})}),r.createElement(c,{header:r.createElement(u,null," User "),cell:r.createElement(v,{data:a})}))):r.createElement(g,{text:"No matching archived sessions found."})),s.hasMore?r.createElement("div",{className:"grv-footer"},r.createElement("button",{disabled:s.isLoading,className:"btn btn-primary btn-outline",onClick:i.fetchMore},r.createElement("span",null,"Load more..."))):null)}});e.exports=b}).call(this)}finally{}},298:function(e,t,n){try{(function(){"use strict";var e=n(2),t=n(235).render,r=n(37),s=r.Router,i=r.Route,a=r.Redirect,o=n(289),l=o.App,c=o.Login,u=o.Nodes,f=o.Sessions,d=o.NewUser,h=o.CurrentSessionHost,p=o.NotFound,m=n(123),v=m.ensureUser,g=n(94),y=n(25),E=n(8);n(304),y.init(),t(e.createElement(s,{history:y.getHistory()},e.createElement(i,{path:E.routes.login,component:c}),e.createElement(i,{path:E.routes.logout,onEnter:g.logout}),e.createElement(i,{path:E.routes.newUser,component:d}),e.createElement(a,{from:E.routes.app,to:E.routes.nodes}),e.createElement(i,{path:E.routes.app,component:l,onEnter:v},e.createElement(i,{path:E.routes.nodes,component:u}),e.createElement(i,{path:E.routes.activeSession,components:{CurrentSessionHost:h}}),e.createElement(i,{path:E.routes.sessions,component:f})),e.createElement(i,{path:"*",component:p})),document.getElementById("app"))}).call(this)}finally{}},299:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(45),i=s.fetchSessions,a=n(308),o=a.fetchNodes,l=n(58),c=l.weekRange,u=n(24),f=n(107),d=f.TLPT_APP_INIT,h=f.TLPT_APP_FAILED,p=f.TLPT_APP_READY,m={initApp:function(){r.dispatch(d),m.fetchNodesAndSessions().done(function(){return r.dispatch(p)}).fail(function(){return r.dispatch(h)})},fetchNodesAndSessions:function(){var e=c(),t=e[1];return u.when(o(),i({before:t}))}};t["default"]=m,e.exports=t["default"]}).call(this)}finally{}},300:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var n=[["tlpt"],function(e){return e.toJS()}];t["default"]={appState:n},e.exports=t["default"]}).call(this)}finally{}},301:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(300),e.exports.actions=n(299),e.exports.appStore=n(108)}).call(this)}finally{}},302:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var n=[["tlpt_dialogs"],function(e){
return e.toJS()}];t["default"]={dialogs:n},e.exports=t["default"]}).call(this)}finally{}},303:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(302),e.exports.actions=n(62),e.exports.dialogStore=n(110)}).call(this)}finally{}},304:function(e,t,n){try{(function(){"use strict";var e=n(6);e.registerStores({tlpt:n(108),tlpt_dialogs:n(110),tlpt_current_session:n(106),tlpt_user:n(125),tlpt_nodes:n(309),tlpt_invite:n(112),tlpt_rest_api:n(312),tlpt_sessions:n(120),tlpt_stored_sessions_filter:n(316),tlpt_notifications:n(311)})}).call(this)}finally{}},305:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(111),i=s.TLPT_RECEIVE_USER_INVITE,a=n(44),o=a.FETCHING_INVITE,l=n(117),c=n(30),u=n(8);t["default"]={fetchInvite:function(e){var t=u.api.getInviteUrl(e);l.start(o),c.get(t).done(function(e){l.success(o),r.dispatch(i,e)}).fail(function(e){l.fail(o,e.responseJSON.message)})}},e.exports=t["default"]}).call(this)}finally{}},306:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(44),s=r.TRYING_TO_SIGN_UP,i=r.FETCHING_INVITE,a=n(118),o=a.requestStatus,l=[["tlpt_invite"],function(e){return e}];t["default"]={invite:l,attemp:o(s),fetchingInvite:o(i)},e.exports=t["default"]}).call(this)}finally{}},307:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(306),e.exports.actions=n(305),e.exports.nodeStore=n(112)}).call(this)}finally{}},308:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var r=n(6),s=n(113),i=s.TLPT_NODES_RECEIVE,a=n(30),o=n(8),l=n(115),c=l.showError,u=n(59).create("Modules/Nodes");t["default"]={fetchNodes:function(){a.get(o.api.nodesPath).done(function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=e.nodes.map(function(e){return e.node});r.dispatch(i,t)}).fail(function(e){c("Unable to retrieve list of nodes"),u.error("fetchNodes",e)})}},e.exports=t["default"]}).call(this)}finally{}},309:function(e,t,n){try{(function(){"use strict";function r(e,t){return a(t)}t.__esModule=!0;var s=n(12),i=s.Store,a=s.toImmutable,o=n(113),l=o.TLPT_NODES_RECEIVE;t["default"]=i({getInitialState:function(){return a([])},initialize:function(){this.on(l,r)}}),e.exports=t["default"]}).call(this)}finally{}},310:function(e,t,n){try{(function(){"use strict";t.__esModule=!0;var e=[["tlpt_notifications"],function(e){return e.last()}];t.lastMessage=e}).call(this)}finally{}},311:function(e,t,n){try{(function(){"use strict";function r(e,t){return e.set(e.size,t)}t.__esModule=!0;var s=n(12),i=n(114);t["default"]=s.Store({getInitialState:function(){return new s.Immutable.OrderedMap},initialize:function(){this.on(i.TLPT_NOTIFICATIONS_ADD,r)}}),e.exports=t["default"]}).call(this)}finally{}},312:function(e,t,n){try{(function(){"use strict";function r(e,t){return e.set(t.type,l({isProcessing:!0}))}function s(e,t){return e.set(t.type,l({isFailed:!0,message:t.message}))}function i(e,t){return e.set(t.type,l({isSuccess:!0}))}t.__esModule=!0;var a=n(12),o=a.Store,l=a.toImmutable,c=n(116),u=c.TLPT_REST_API_START,f=c.TLPT_REST_API_SUCCESS,d=c.TLPT_REST_API_FAIL;t["default"]=o({getInitialState:function(){return l({})},initialize:function(){this.on(u,r),this.on(d,s),this.on(f,i)}}),e.exports=t["default"]}).call(this)}finally{}},313:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(63),e.exports.actions=n(45),e.exports.activeTermStore=n(120)}).call(this)}finally{}},314:function(e,t,n){try{(function(){"use strict";function r(e,t){s.dispatch(h,{isLoading:!0,hasMore:!1}),a({sid:t,before:e,limit:u}).done(function(e){var t=e.sessions;s.dispatch(p,t)})}t.__esModule=!0;var s=n(6),i=n(45),a=i.fetchSessions,o=n(64),l=o.filter,c=n(8),u=c.maxSessionLoadSize,f=n(121),d=f.TLPT_STORED_SESSINS_FILTER_SET_RANGE,h=f.TLPT_STORED_SESSINS_FILTER_SET_STATUS,p=f.TLPT_STORED_SESSINS_FILTER_RECEIVE_MORE,m={fetch:function(){var e=s.evaluate(l),t=e.end;r(t)},fetchMore:function(){var e=s.evaluate(l),t=e.status;if(t.hasMore===!0&&!t.isLoading){var n=t.sid,i=t.nextBefore;r(i,n)}},setTimeRange:function(e,t){s.batch(function(){s.dispatch(d,{start:e,end:t}),r(t)})}};t["default"]=m,e.exports=t["default"]}).call(this)}finally{}},315:function(e,t,n){try{(function(){"use strict";e.exports.getters=n(64),e.exports.actions=n(314)}).call(this)}finally{}},316:function(e,t,n){try{(function(){"use strict";function r(e,t){var n={hasMore:!1,isLoading:!1};if(t.length===d){var r=t[t.length-1],i=r.id,a=r.created;n.sid=i,n.nextBefore=new Date(a),n.hasMore=h(e.get("start")).isBefore(n.nextBefore)}return s(e,n)}function s(e,t){return e.mergeIn(["status"],t)}function i(e,t){var n=t.start,r=t.end;return e.set("start",n).set("end",r).set("hasMore",!1)}t.__esModule=!0;var a=n(12),o=a.Store,l=a.toImmutable,c=n(58),u=c.weekRange,f=n(8),d=f.maxSessionLoadSize,h=n(1),p=n(121),m=p.TLPT_STORED_SESSINS_FILTER_SET_RANGE,v=p.TLPT_STORED_SESSINS_FILTER_SET_STATUS,g=p.TLPT_STORED_SESSINS_FILTER_RECEIVE_MORE;t["default"]=o({getInitialState:function(){var e=u(new Date),t=e[0],n=e[1],r={start:t,end:n,status:{isLoading:!1,hasMore:!1}};return l(r)},initialize:function(){this.on(g,r),this.on(m,i),this.on(v,s)}}),e.exports=t["default"]}).call(this)}finally{}},317:function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function s(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,o,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,o=new Array(s-1),l=1;s>l;l++)o[l-1]=arguments[l];n.apply(this,o)}else if(i(n)){for(s=arguments.length,o=new Array(s-1),l=1;s>l;l++)o[l-1]=arguments[l];for(c=n.slice(),s=c.length,l=0;s>l;l++)c[l].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned){var s;s=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,s,a,o;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(o=a;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){s=o;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},427:function(e,t){e.exports=Terminal}});