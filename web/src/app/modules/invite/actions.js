var reactor = require('app/reactor');
var { TLPT_RECEIVE_USER_INVITE }  = require('./actionTypes');
var api = require('app/services/api');
var cfg = require('app/config');

export default {
  fetchInvite(inviteToken){
    var path = cfg.api.getInviteUrl(inviteToken);

    // var invite = {"invite_token":"6e267a42ef597242ba6b873d227bcf444166d2c8af2dba66a573856216d87eb5","user":"alex","qr":"iVBORw0KGgoAAAANSUhEUgAAAagAAAGoAQAAAAA7yUxtAAAAJHRFWHRTb2Z0d2FyZQBRUi1QTkcgaHR0cDovL3FyLnN3dGNoLmNvbS9nj329AAALKElEQVR4AWP4Tw4Y1TWqa1TXqK5RXaO6BlYXw/////8zMDAwMDAw/GdgYGD4z/D/////DAz/Gf7//8/AwMDwn4HhP8P//wz/GRgYGBgYGP7///9/VNdA6WL4////f4b//////8/wn+H///8MDAz/GRj+M/z//5+BgeH/fwYGhv8M//8z/P/P8P//////Gf7///9/VNdA6WL4////f4b/DAwM/xn+M/z//5+B4f///wwM////Z/jPwPCfgYGBgYHh/3+G//8Z/jMwMPxn+P////9RXQOli+H/////Gf4zMDD8Z/jPwMDw//9/hv//Gf7/Z2D4z8DAwPD/P8P//////2dg+M/wn4GB4T/D/////4/qGihdDP/////P8J+BgeE/w38GBob///8zMPz/z8DAwMDAwPCf4T/DfwaG/wwMDAz/Gf4zMDD8Z/j/////UV0DpYvh/////xn+/////z/D////Gf7//8/A8P////8M////Z/jP8P//fwaG/wz/////z/D//////xn+////f1TXQOli+P///38GBgYGBgaG/wz/Gf4z/Gf4z/Cf4T/Df4b/DP8Z/jP8Z/jP8J/hP8N/BgYGBgYGhv////8f1TVQuhj+////////////////n+H/f4b///8zMDAw/Gf4//8/w38GBob/DAz/Gf4z/P//////////////////UV0DpYvh//////8zMPxn+M/A8P//fwaG///////PwMDAwMDA8P8/AwPDfwaG//8Z/v9n+M/AwMDA8P////+jugZKF8P////////PwPD/////DP8ZGP4z/P/P8J/hP8N/hv//////////f4b///8z/P//n+H///8MDP////8/qmugdDH8/////3+G//8Z/jP8/8/A8P////8M/xkY/v9n+P//P8N/Bob/////Z2D4z/D//38GBgYGhv////8f1TVQuhj+//////9/hv///////5/h////DAz//zMw/Gf4/5/hP8P//wz//zMw/P/PwPD/////////////////o7oGShfD////////z/CfgYGB4T8DA8P//////2f4/5+B4T/D/////zMwMDAw/Gdg+M/AwMDA8P8/w/////+P6hooXQz//////5+B4f9/hv///zMw/P/P8P//fwYGBgYGhv8MDP8ZGP7/Z2Bg+P//////DAz//zMw/P////+oroHSxfD//////xn+////n+H/fwaG////MzAw/Gf4z/CfgYGB4f9/Bob//xkY/jMw/P//n4GB4T/D/////4/qGihdDP/////P8P8/w3+G/wwMDP8ZGBj+/2f4//8/A8N/BgYGhv8M////Z/j///9/BgaG/wz/Gf7//////6iugdLF8P///////zMw/Gdg+P//PwMDw38Ghv////9n+P+fgeE/AwMDA8N/hv8MDP//MzAwMPz/z/D/////o7oGShfD//////9n+P+f4f///////2f4z8Dwn4HhP8N/Bob//xn+/2f4/5/h////////////P8N/Bob/////H9U1ULoY/v////8/w3+G//8Z/v///5+B4f////8ZGP7///+fgYHhP8N/Bob/DP//MzD8Z2BgYPjPwPD/////o7oGShfD/////zMwMPz///////8M/xn+/////////wz/GRgY/v//z/CfgeE/A8P///8Z/v9n+P+fgeH/////R3UNlC6G/////2f4//8/AwMDAwMDA8N/hv8M/////8/AwMDAwMDAwPCfgYHhPwMDAwMDA8N/BgaG/////x/VNVC6GP7/////PwMDA8P///8ZGBj+////n+H/fwYGhv///zMw/P/P8P8/A8P///8Z/v//z/CfgeH//////4/qGihdDP//////n4GBgeE/w38GBob//xn+MzAw/P/P8J/hP8N/hv//GRj+M/z//5/hP8N/Bob/DAz/////P6proHQx/P///z/D////Gf7//8/A8J/h/3+G/wwMDAwM////Z2BgYPj/n4GBgeE/A8P///8Z/v//z/D/////o7oGShfD/////zMw/P/PwMDAwMDA8P//fwYGBob//xkYGBgY/jMwMDD8/8/w//9/BgYGBgaG//8Z/v///39U10DpYvj//////wz//////5+BgYGBgYHhPwPDfwaG/////////z8Dw///DAwM////Z/jP8P8/w3+G/////x/VNVC6GP7///+f4T8DA8N/hv8M////Z2BgYPj/n+H///8MDAwMDP8Z/v///5/h/////xkYGBj+/2f4/////1FdA6WL4f////8ZGBj+M/z///8/w38Ghv//GRgY/v9nYGBg+M/AwPCfgeH/////GRgYGP4z/P//n+H/////R3UNlC6G/////2dg+M/wn4GB4f///wwM/xkYGBgYGP7/Z2D4z/CfgeH/fwYGBob/DP8ZGP4z/Gdg+P////9RXQOli+H/////GRj+M/z//5/h/////xn+M/xn+P//////DP8ZGBj+/2f4/5/h/38Ghv8M////Z2Bg+P////9RXQOli+H/////GRj+M/xnYGBgYGD4z/Cf4f////8ZGBj+///PwMDw/////wz/////z8DAwPCfgYHh/////0d1DZQuhv//////z/D/P8P///8ZGBgY/jMw/P/P8J/hP8N/hv8MDP8ZGP7//////3+G////////n+H//////4/qGihdDP////////9/BgYGBgaG/wz/Gf4zMPxnYPjP8P//fwaG/wwMDP8ZGBgY/jMwMPz///8/A8P/////j+oaKF0M//////+fgYHh////DAz/Gf4z/P/PwMDAwPD/P8P///8Z/jP8//+f4f///wz/////z/CfgeH/////R3UNlC6G//////////9/hv8MDP8ZGP4zMDD8/////////xkY/jP8Z/j///9/BgaG//8ZGP4z/P/PwPD/////o7oGShfD//////9nYGBg+P+fgYGB4f9/Bob/DAz/Gf7///+fgeH/f4b///8zMPz/z8Dw//9/hv8M//////9/VNdA6WL4////f4b//xkY/jP8Z2BgYPjPwPD/PwMDAwMDAwPD////Gf4zMDAw/P/PwMDAwMDw/z/D/////4/qGihdDP/////////////////PwMDwn4HhPwPDfwYGhv///zMw/P//n+H/f4b//xkY/v//z8Dw/z/D/////4/qGihdDP/////PwMDAwMDA8J+B4f9/Bob/DP/////P8J/hPwMDAwMDw///DAwM/xn+M/xnYPjPwPD/////o7oGShfD/////zP8/////3+G//8Z/v//z/CfgeE/w3+G////MzAwMDAw/P/PwMDAwPD//3+G//8Z/v//////qK6B0sXw/////wz/GRgY/jP8Z2D4/5/hPwMDAwPDfwYGBgYGhv8MDAwM/xn+M/xnYGBgYGBgYGD4/////1FdA6WL4f////8Z/jMwMPxn+P//PwPDfwYGhv8M/xkYGBgYGBgYGP7//8/AwPCfgYHh/38Ghv//////////qK6B0sXw/////wz/GRgY/jP8Z2Bg+M/AwMDA8J/hPwMDAwMDA8P///8Z/jMw/GdgYGBgYPj/n4Hh/////0d1DZQuhv////9n+P//////DP8Z/v9n+P+fgYGB4f9/Bob/////Z2D4z/D/P8N/Bob///8z/P//n+H//////4/qGihdDP/////PwMDAwMDA8P8/A8P/////MzAwMPxn+M/w/z/DfwYGhv8MDAz/Gf4z/GdgYGBgYPj/////UV0DpYvhPzlgVNeorlFdo7pGdY3qGlhdAMUJlGOHKqOmAAAAAElFTkSuQmCC"}  ;
    // reactor.dispatch(TLPT_RECEIVE_USER_INVITE, invite);

    api.get(path).done(invite=>{
      reactor.dispatch(TLPT_RECEIVE_USER_INVITE, invite);
    });
  }
}
